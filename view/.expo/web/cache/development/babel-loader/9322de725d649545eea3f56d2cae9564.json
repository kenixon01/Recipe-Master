{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _taggedTemplateLiteralLoose from \"@babel/runtime/helpers/taggedTemplateLiteralLoose\";\nvar _templateObject;\nimport React, { useEffect, useState } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport ImageBackground from \"react-native-web/dist/exports/ImageBackground\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport { InputBox, AppButton, Title } from \"../../lib\";\nimport style from \"./style\";\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { useMutation, gql } from '@apollo/client';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar SIGN_UP_MUTATION = gql(_templateObject || (_templateObject = _taggedTemplateLiteralLoose([\"\\nmutation signUp($email: String!, $password: String!, $name: String!) {\\n  signUp(input: {email: $email, password: $password, name: $name}){\\n    token\\n    user {\\n      email\\n    }\\n  }\\n}\\n\"])));\nexport function Register(_ref) {\n  var navigation = _ref.navigation;\n  var _useState = useState(''),\n    _useState2 = _slicedToArray(_useState, 2),\n    email = _useState2[0],\n    setEmail = _useState2[1];\n  var _useState3 = useState(''),\n    _useState4 = _slicedToArray(_useState3, 2),\n    name = _useState4[0],\n    setName = _useState4[1];\n  var _useState5 = useState(''),\n    _useState6 = _slicedToArray(_useState5, 2),\n    password = _useState6[0],\n    setPassword = _useState6[1];\n  var _useMutation = useMutation(SIGN_UP_MUTATION),\n    _useMutation2 = _slicedToArray(_useMutation, 2),\n    signUp = _useMutation2[0],\n    _useMutation2$ = _useMutation2[1],\n    data = _useMutation2$.data,\n    error = _useMutation2$.error,\n    loading = _useMutation2$.loading;\n  useEffect(function () {\n    if (error) {\n      Alert.alert('No fields can be left blank');\n    }\n  }, [error]);\n  if (data) {\n    AsyncStorage.setItem('token', data.signUp.token).then(function () {\n      navigation.navigate('Main');\n    });\n  }\n  var onSubmit = function onSubmit() {\n    signUp({\n      variables: {\n        name: name,\n        email: email,\n        password: password,\n        userName: userName\n      }\n    }).then(function (response) {\n      console.log(\"Response: \" + response);\n    }).catch(function (err) {\n      console.log(\"Error: \" + err);\n    });\n  };\n  return _jsx(ImageBackground, {\n    style: style.image,\n    source: require(\"../../../../assets/20221220_194217_32.jpg\"),\n    children: _jsxs(View, {\n      style: style.container,\n      children: [_jsx(Title, {\n        fontFamily: \"PTSansNarrow\",\n        color: \"#4F5200\",\n        children: \"Sign Up\"\n      }), _jsx(InputBox, {\n        placeholder: \"First Name\",\n        value: name,\n        onChangeText: setName\n      }), _jsx(InputBox, {\n        keyboardType: 'email-address',\n        placeholder: \"Email\",\n        value: email,\n        onChangeText: setEmail\n      }), _jsx(InputBox, {\n        placeholder: \"Password\",\n        value: password,\n        onChangeText: setPassword\n      }), _jsx(View, {\n        children: _jsx(Text, {\n          style: style.text,\n          children: \"Must be at least 8 characters and include at least 1 special character\"\n        })\n      }), _jsx(AppButton, {\n        onPress: function onPress() {\n          return onSubmit();\n        },\n        children: \"Sign Up\"\n      }), _jsxs(View, {\n        style: {\n          flexDirection: 'row'\n        },\n        children: [_jsx(Text, {\n          style: style.forgotAndSignUpText,\n          children: \"Already have an account?\"\n        }), _jsx(Text, {\n          style: style.LoginText,\n          onPress: function onPress() {\n            return navigation.navigate(\"Login\");\n          },\n          children: \" Login \"\n        })]\n      })]\n    })\n  });\n}\nexport default Register;","map":{"version":3,"names":["React","useEffect","useState","InputBox","AppButton","Title","style","AsyncStorage","useMutation","gql","SIGN_UP_MUTATION","Register","navigation","email","setEmail","name","setName","password","setPassword","signUp","data","error","loading","Alert","alert","setItem","token","then","navigate","onSubmit","variables","userName","response","console","log","catch","err","image","require","container","text","flexDirection","forgotAndSignUpText","LoginText"],"sources":["C:/Users/Andy/Desktop/recipe/Recipe-Master/view/components/auth/Screens/register/Register.js"],"sourcesContent":["import React, { useEffect,useState } from 'react'\r\nimport { View, Text, ImageBackground, Alert } from 'react-native'\r\nimport { InputBox, AppButton, Title } from '../../lib';\r\nimport style from './style'\r\nimport AsyncStorage from '@react-native-async-storage/async-storage';\r\nimport { useMutation, gql } from '@apollo/client';\r\n  \r\nconst SIGN_UP_MUTATION = gql`\r\nmutation signUp($email: String!, $password: String!, $name: String!) {\r\n  signUp(input: {email: $email, password: $password, name: $name}){\r\n    token\r\n    user {\r\n      email\r\n    }\r\n  }\r\n}\r\n`;\r\n  \r\nexport function Register ({navigation}) {\r\n\r\n  const [email, setEmail] = useState('');\r\n  const [name, setName] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  \r\n  const [signUp, { data, error, loading }] = useMutation(SIGN_UP_MUTATION);\r\n\r\n  useEffect(() => {\r\n    if (error) {\r\n      Alert.alert('No fields can be left blank');\r\n    }\r\n  },[error])\r\n\r\n  if (data){\r\n    AsyncStorage\r\n    .setItem('token', data.signUp.token)\r\n    .then(() => {\r\n      navigation.navigate('Main')\r\n    })\r\n  }\r\n\r\n  const onSubmit = () => {\r\n    signUp({variables: {name, email, password, userName}})\r\n      .then(response => {\r\n        console.log(`Response: ${response}`)\r\n      })\r\n      .catch(err => {\r\n        console.log(`Error: ${err}`)\r\n      })\r\n  }  \r\n\r\n    return (\r\n      <ImageBackground \r\n          style = {style.image}\r\n          source={require('../../../../assets/20221220_194217_32.jpg')}>\r\n      <View style = {style.container}>\r\n          <Title fontFamily=\"PTSansNarrow\" color='#4F5200'>Sign Up</Title>\r\n          <InputBox\r\n            placeholder = \"First Name\"\r\n            value= {name}\r\n            onChangeText = {setName}\r\n          />\r\n          <InputBox\r\n            keyboardType={'email-address'}\r\n            placeholder = \"Email\"\r\n            value={email}\r\n            onChangeText = {setEmail}\r\n          />\r\n          <InputBox\r\n            placeholder = \"Password\"\r\n            value={password}\r\n            onChangeText = {setPassword}\r\n            />\r\n          <View>\r\n            <Text style = {style.text}>Must be at least 8 characters and include at least 1 special character</Text>\r\n          </View>\r\n          <AppButton onPress = {() => onSubmit()}>Sign Up</AppButton>\r\n          <View style = {{flexDirection: 'row'}}>\r\n            <Text style={style.forgotAndSignUpText}>Already have an account?</Text>\r\n            <Text style = {style.LoginText} onPress={() => navigation.navigate(\"Login\")}> Login </Text> \r\n          </View> \r\n      </View>\r\n    </ImageBackground>\r\n)}\r\n\r\nexport default Register"],"mappings":"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"},"metadata":{},"sourceType":"module"}